import requests
from datetime import datetime

# 读取 GitHub 令牌
github_token = "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"
headers = {'Authorization': f'token {github_token}'}

# API 请求的 URL
repo = "langchain-ai/langchain"
since_date = "2024-08-26"
url = f'https://api.github.com/repos/{repo}/commits?since={since_date}'

# 发起请求
response = requests.get(url, headers=headers)

# 打印响应的内容
if response.status_code == 401:
    print("Authorization failed, check your GitHub token and permissions.")
    print(response.text)  # 查看详细错误信息
else:
    response.raise_for_status()
    commits = response.json()
    print(commits)
